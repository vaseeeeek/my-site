
<!-- items begin -->
{if !empty($items)}


    {$depth = 0}

    {foreach $items as $item}


      {if $item.depth < $depth}
        {section name="end-item" loop = $depth - $item.depth}
                </li>
                <li class="drag-newposition" data-type="item"></li>
            </ul>
        {/section}
        {$depth = $item.depth}
      {/if}

      {if $item.depth == $depth}
          </li>
          <li class="drag-newposition" data-type="item"></li>
          <li class="dr" id="item-{$item.id}" data-type="item">
      {/if}

      {if $item.depth > $depth}
          <ul class="menu-v with-icons">
              <li class="drag-newposition" data-type="item"></li>
              <li class="dr" id="item-{$item.id}" data-type="item">
              {$depth = $item.depth}
      {/if}
        <i class="icon16 loading" style="float:right; display:none;"></i>
        <span class="counters">

        </span>

        {if $item.children_count > 0}
            <i class="icon16 {if empty($item.expanded)}rarr{else}darr{/if}  overhanging collapse-handler-ajax" id="item-{$item.id}-handler"></i>
        {/if}

        <a href="#/menu/{$menu.id}/{$item.id}" class="m-item-list{if !$item.status} gray{/if}">{strip}
            <i class="icon16 {$item.backend_icon|escape}"></i>
            <span class="name">{$item.name|escape}</span>

            <span class="count"><i class="icon10 add m-new-list"></i></span>
        {/strip}</a>

    {/foreach}

    {section name="end-item" loop = $depth}
          </li>
          <li class="drag-newposition" data-type="item"></li>
        </ul>
    {/section}
{/if}

<!-- items end -->
